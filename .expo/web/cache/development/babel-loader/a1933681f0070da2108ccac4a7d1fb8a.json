{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useState } from 'react';\nimport { addEntryToComp } from \"../../Database\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { getDownloadURL, ref, uploadBytes } from 'firebase/storage';\nimport { storage } from \"../../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AddEntry(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var id = route.params.id;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      onChangeTitle = _useState2[1];\n\n  var _useState3 = useState('/'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setImage = _useState4[1];\n\n  var AddEntry = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            addEntryToComp({\n              title: title,\n              imageUrl: image\n            }, id);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var pickImage = function _callee2() {\n    var result;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context2.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.fontText1,\n      children: \"Add New Competition Entry\"\n    }), _jsx(Text, {\n      style: styles.fontText2,\n      children: \"Anything is worth it with funky sockies!\"\n    }), _jsx(TextInput, {\n      placeholder: \"Entry name\",\n      style: styles.input,\n      onChangeText: onChangeTitle,\n      value: title\n    }), _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        height: 300,\n        borderColor: '#B6A07E',\n        borderWidth: 20,\n        width: 300,\n        marginTop: 30,\n        borderRadius: 40\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.goButton,\n      onPress: pickImage,\n      children: _jsx(Text, {\n        style: styles.fontText3,\n        children: \"Upload an Entry\"\n      })\n    }), _jsx(Button, {\n      style: styles.goButton,\n      title: \"save\",\n      onPress: AddEntry\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    padding: 10,\n    marginTop: 20,\n    borderRadius: 30,\n    paddingLeft: 20,\n    width: \"90%\",\n    borderColor: 'black'\n  },\n  input: {\n    borderBottomColor: '#000000',\n    borderBottomWidth: 2,\n    width: 300,\n    marginBottom: 10,\n    padding: 10,\n    fontFamily: 'Poppins-ExtraBold',\n    fontSize: 20,\n    marginTop: 15,\n    paddingLeft: 20,\n    marginBottom: 5\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#E8D3B4',\n    justifyContent: 'center',\n    paddingTop: 100\n  },\n  fontText1: {\n    paddingLeft: 20,\n    fontFamily: 'OleoScript-Regular',\n    fontSize: 40,\n    marginTop: 10\n  },\n  fontText2: {\n    fontFamily: 'Montserrat-Regular',\n    fontSize: 15,\n    width: 300,\n    textAlign: 'left',\n    marginTop: 10\n  },\n  fontText3: {\n    fontFamily: 'Montserrat-Regular',\n    fontSize: 15,\n    width: 300,\n    textAlign: 'center',\n    color: \"white\"\n  },\n  goButton: {\n    marginTop: 50,\n    color: '#fff',\n    marginBottom: 200,\n    backgroundColor: 'black',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    width: 300,\n    borderRadius: 30,\n    height: 50,\n    marginTop: 20,\n    padding: 15,\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"names":["React","useState","addEntryToComp","ImagePicker","getDownloadURL","ref","uploadBytes","storage","AddEntry","route","navigation","id","params","title","onChangeTitle","image","setImage","imageUrl","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","console","log","cancelled","uri","styles","container","fontText1","fontText2","input","height","borderColor","borderWidth","width","marginTop","borderRadius","goButton","fontText3","StyleSheet","create","padding","paddingLeft","borderBottomColor","borderBottomWidth","marginBottom","fontFamily","fontSize","flex","alignItems","justifyContent","backgroundColor","paddingTop","textAlign","color","fontWeight","flexDirection"],"sources":["/Users/jeandredevilliers/Desktop/Project/FunkySocky/components/dashboardcomps/AddEntry.js"],"sourcesContent":["import { View, Text,StyleSheet,TextInput,Button,Image, TouchableOpacity } from 'react-native'\nimport React, {useState} from 'react'\nimport { addEntryToComp } from '../../Database'\nimport * as ImagePicker from 'expo-image-picker';\nimport { getDownloadURL, ref, uploadBytes } from 'firebase/storage';\nimport { storage } from '../../firebase';\n\nexport default function AddEntry({route, navigation}) {\n\n  const id = route.params.id\n  const [title, onChangeTitle] = useState()\n  const [image, setImage]= useState('/')\n\n\nconst AddEntry = async() =>{\n // await handleImageUpload()\n addEntryToComp({title: title, imageUrl: image}, id)\n \n}\n\n// const handleImageUpload = async() =>{\n// const imageRef = ref(storage, 'images/'+ title + id + \".jpg\" )\n\n// const blob = await new Promise((resolve, reject) => {\n//   const xhr = new XMLHttpRequest();\n//   xhr.onload = function () {\n//     resolve(xhr.response);\n//   };\n//   xhr.onerror = function (e) {\n//     console.log(e);\n//     reject(new TypeError(\"Network request failed\"));\n//   };\n//   xhr.responseType = \"blob\";\n//   xhr.open(\"GET\", image, true);\n//   xhr.send(null);\n// });\n// await uploadBytes(imageRef, blob).then((snapshot) => {\n//   getDownloadURL(snapshot.ref).then((url) => {\n//       console.log(url)\n//       addEntryToComp({title: title, imageUrl: url}, id)\n//   })\n//   .catch((error) => console.log(error))\n// })\n// .catch((error) => console.log(error))\n// // We're done with the blob, close and release it\n// blob.close();\n// }\n\nconst pickImage = async () => {\n  // No permissions request is necessary for launching the image library\n  let result = await ImagePicker.launchImageLibraryAsync({\n    mediaTypes: ImagePicker.MediaTypeOptions.All,\n    allowsEditing: true,\n    aspect: [4, 3],\n    quality: 1,\n  });\n\n  console.log(result);\n\n  if (!result.cancelled) {\n    setImage(result.uri);\n  }\n};\n\n\nreturn (\n  <View style={styles.container}>\n    <Text style={styles.fontText1}>Add New Competition Entry</Text>\n    <Text style={styles.fontText2}>Anything is worth it with funky sockies!</Text>\n\n    <TextInput\n    placeholder='Entry name'\n    style={styles.input}\n    onChangeText={onChangeTitle}\n    value={title}\n    />\n\n    <Image source={{uri: image}} style={{height:300, borderColor:'#B6A07E', borderWidth:20, width:300, marginTop: 30, borderRadius: 40}}></Image>\n    <TouchableOpacity style={styles.goButton} onPress={pickImage}>\n      <Text style={styles.fontText3}>Upload an Entry</Text>\n    </TouchableOpacity>\n    <Button style={styles.goButton} title='save' onPress={AddEntry}></Button>\n  </View>\n)\n};\n\n\nconst styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    padding: 10,\n    marginTop: 20,\n    borderRadius: 30,\n    paddingLeft: 20,\n    width: \"90%\",\n    borderColor: 'black'\n},\ninput:{\n  borderBottomColor: '#000000',\n  borderBottomWidth: 2,\n  width: 300,\n  marginBottom: 10,\n  padding: 10,\n  fontFamily: 'Poppins-ExtraBold',\n  fontSize: 20,\n  marginTop: 15,\n  paddingLeft: 20,\n  marginBottom: 5\n},\ncontainer: {\n    flex: 1, \n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#E8D3B4',\n    justifyContent: 'center',\n    paddingTop: 100\n  },\n      fontText1: {\n      paddingLeft: 20,\n      fontFamily: 'OleoScript-Regular',\n      fontSize: 40,\n      marginTop: 10\n    },\n    fontText2: {\n      fontFamily: 'Montserrat-Regular',\n      fontSize: 15,\n      width: 300,\n      textAlign: 'left',\n      marginTop: 10\n    },\n    fontText3: {\n      fontFamily: 'Montserrat-Regular',\n      fontSize: 15,\n      width: 300,\n      textAlign: 'center',\n      color: \"white\"\n    },\n    \n  goButton: {\n    marginTop: 50,\n    color: '#fff',\n    marginBottom: 200,\n    backgroundColor: 'black',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    width: 300, \n    borderRadius: 30,\n    height: 50, \n    marginTop: 20, \n    padding: 15,\n    flexDirection: 'row'\n}\n  })\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}