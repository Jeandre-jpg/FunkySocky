{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useState } from 'react';\nimport { addEntryToComp } from \"../../Database\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { getDownloadURL, ref, uploadBytes } from 'firebase/storage';\nimport { storage } from \"../../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AddEntry(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var id = route.params.id;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      onChangeTitle = _useState2[1];\n\n  var _useState3 = useState('/'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setImage = _useState4[1];\n\n  var AddEntry = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            addEntryToComp({\n              title: title,\n              imageUrl: image\n            }, id);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var pickImage = function _callee2() {\n    var result;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context2.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.fontText1,\n      children: \"Add New Competition Entry\"\n    }), _jsx(Text, {\n      style: styles.fontText2,\n      children: \"Life is worth the living with a pair! So grab your funky sockies today.\"\n    }), _jsx(TextInput, {\n      placeholder: \"Entry name\",\n      style: styles.input,\n      onChangeText: onChangeTitle,\n      value: title\n    }), _jsx(Text, {\n      children: id\n    }), _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        height: 300,\n        borderColor: '#B6A07E',\n        borderWidth: 20,\n        width: 300,\n        marginTop: 30\n      }\n    }), _jsx(Button, {\n      style: styles.goButton,\n      title: \"upload img\",\n      onPress: pickImage\n    }), _jsx(Button, {\n      style: styles.goButton,\n      title: \"save\",\n      onPress: AddEntry\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    padding: 10,\n    marginTop: 20,\n    borderRadius: 30,\n    paddingLeft: 20,\n    width: \"90%\",\n    borderColor: 'black'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#E8D3B4',\n    justifyContent: 'center',\n    paddingTop: 30\n  },\n  fontText1: {\n    paddingLeft: 20,\n    fontFamily: 'OleoScript-Regular',\n    fontSize: 40,\n    marginTop: 10\n  },\n  fontText2: {\n    fontFamily: 'Montserrat-Regular',\n    fontSize: 15,\n    width: 300,\n    textAlign: 'left',\n    marginTop: 10,\n    marginLeft: 20\n  },\n  goButton: {\n    marginTop: 50,\n    color: '#fff',\n    marginBottom: 200,\n    backgroundColor: 'black',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    width: 300,\n    borderRadius: 30,\n    height: 50,\n    marginLeft: 30,\n    marginTop: 20,\n    padding: 15,\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"names":["React","useState","addEntryToComp","ImagePicker","getDownloadURL","ref","uploadBytes","storage","AddEntry","route","navigation","id","params","title","onChangeTitle","image","setImage","imageUrl","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","console","log","cancelled","uri","styles","container","fontText1","fontText2","input","height","borderColor","borderWidth","width","marginTop","goButton","StyleSheet","create","padding","borderRadius","paddingLeft","flex","alignItems","justifyContent","backgroundColor","paddingTop","fontFamily","fontSize","textAlign","marginLeft","color","marginBottom","fontWeight","flexDirection"],"sources":["/Users/jeandredevilliers/Desktop/Project/FunkySocky/components/dashboardcomps/AddEntry.js"],"sourcesContent":["import { View, Text,StyleSheet,TextInput,Button,Image } from 'react-native'\nimport React, {useState} from 'react'\nimport { addEntryToComp } from '../../Database'\nimport * as ImagePicker from 'expo-image-picker';\nimport { getDownloadURL, ref, uploadBytes } from 'firebase/storage';\nimport { storage } from '../../firebase';\n\nexport default function AddEntry({route, navigation}) {\n\n  const id = route.params.id\n  const [title, onChangeTitle] = useState()\n  const [image, setImage]= useState('/')\n\n\nconst AddEntry = async() =>{\n // await handleImageUpload()\n addEntryToComp({title: title, imageUrl: image}, id)\n \n}\n\n// const handleImageUpload = async() =>{\n// const imageRef = ref(storage, 'images/'+ title + id + \".jpg\" )\n\n// const blob = await new Promise((resolve, reject) => {\n//   const xhr = new XMLHttpRequest();\n//   xhr.onload = function () {\n//     resolve(xhr.response);\n//   };\n//   xhr.onerror = function (e) {\n//     console.log(e);\n//     reject(new TypeError(\"Network request failed\"));\n//   };\n//   xhr.responseType = \"blob\";\n//   xhr.open(\"GET\", image, true);\n//   xhr.send(null);\n// });\n// await uploadBytes(imageRef, blob).then((snapshot) => {\n//   getDownloadURL(snapshot.ref).then((url) => {\n//       console.log(url)\n//       addEntryToComp({title: title, imageUrl: url}, id)\n//   })\n//   .catch((error) => console.log(error))\n// })\n// .catch((error) => console.log(error))\n// // We're done with the blob, close and release it\n// blob.close();\n// }\n\nconst pickImage = async () => {\n  // No permissions request is necessary for launching the image library\n  let result = await ImagePicker.launchImageLibraryAsync({\n    mediaTypes: ImagePicker.MediaTypeOptions.All,\n    allowsEditing: true,\n    aspect: [4, 3],\n    quality: 1,\n  });\n\n  console.log(result);\n\n  if (!result.cancelled) {\n    setImage(result.uri);\n  }\n};\n\n\nreturn (\n  <View style={styles.container}>\n    <Text style={styles.fontText1}>Add New Competition Entry</Text>\n    <Text style={styles.fontText2}>Life is worth the living with a pair! So grab your funky sockies today.</Text>\n\n    <TextInput\n    placeholder='Entry name'\n    style={styles.input}\n    onChangeText={onChangeTitle}\n    value={title}\n    \n    />\n<Text>{id}</Text>\n    <Image source={{uri: image}} style={{height:300, borderColor:'#B6A07E', borderWidth:20, width:300, marginTop: 30}}></Image>\n     <Button style={styles.goButton} title='upload img'  onPress={pickImage}></Button>\n    <Button style={styles.goButton} title='save' onPress={AddEntry}></Button>\n  </View>\n)\n};\n\n\nconst styles = StyleSheet.create({\n  input: {\n    borderWidth: 2,\n    padding: 10,\n    marginTop: 20,\n    borderRadius: 30,\n    paddingLeft: 20,\n    width: \"90%\",\n    borderColor: 'black'\n},\ncontainer: {\n    flex: 1, \n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#E8D3B4',\n    justifyContent: 'center',\n    paddingTop: 30\n  },\n      fontText1: {\n      paddingLeft: 20,\n      fontFamily: 'OleoScript-Regular',\n      fontSize: 40,\n      marginTop: 10\n    },\n    fontText2: {\n      fontFamily: 'Montserrat-Regular',\n      fontSize: 15,\n      width: 300,\n      textAlign: 'left',\n      marginTop: 10,\n      marginLeft: 20\n    },\n    \n  goButton: {\n    marginTop: 50,\n    color: '#fff',\n    marginBottom: 200,\n    backgroundColor: 'black',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    width: 300, \n    borderRadius: 30,\n    height: 50, \n    marginLeft: 30,\n    marginTop: 20, \n    padding: 15,\n    flexDirection: 'row'\n}\n  })\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}